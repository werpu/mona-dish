{"version":3,"file":"Es2019Array.js","mappings":"kDACA,IAAIA,EAAsB,CCA1BA,EAAwB,SAASC,EAASC,GACzC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAG3E,ECPAH,EAAwB,SAASS,EAAKC,GAAQ,OAAOL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,EAAO,ECCtGV,EAAwB,SAASC,GACX,oBAAXa,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAeL,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAeL,EAAS,aAAc,CAAEe,OAAO,GACvD,G,sDCGO,MAAMC,UAAuBC,MAEhCC,eAAeC,GACXC,SAASD,GAEEF,MAAMP,UAAWW,UACxBC,KAAKD,QAAWE,GAAeD,KAAKE,SAASD,IAEtCN,MAAMP,UAAWe,OACxBH,KAAKG,KAAO,CAACC,EAAoB,IAAMJ,KAAKK,MAAMD,GAE1D,CAEAE,UAAUC,GACN,OAAO,IAAIb,KAAeI,MAAMQ,UAAUC,GAC9C,CAEAC,UACI,OAAO,IAAId,KAAeI,MAAMU,UACpC,CAEAC,MAAMC,EAAgBC,GAClB,OAAO,IAAIjB,KAAeI,MAAMW,MAAMC,EAAOC,GACjD,CAEAC,OAAOF,EAAeG,GAClB,OAAO,IAAInB,KAAeI,MAAMc,OAAOF,EAAOG,GAClD,CAEAC,OAAoBC,EAAyDC,GACzE,OAAO,IAAItB,KAAeI,MAAMgB,OAAOC,EAAWC,GACtD,CAGQX,MAAMY,EAAY,GACtB,OAAOjB,KAAKkB,aAAalB,KAAMiB,EACnC,CAEQC,aAAaC,EAAKF,EAAY,GAElC,GAAiB,GAAbA,EACA,OAAOE,EAEX,IAAIC,EAAM,GASV,OAFAD,EAAIE,SALSC,IACTA,EAAO3B,MAAM4B,QAAQD,GAAQA,EAAO,CAACA,GACrC,IAAIE,EAASxB,KAAKkB,aAAaI,EAAML,EAAY,GACjDG,EAAMA,EAAId,OAAOkB,EAAO,IAIrB,IAAI9B,KAAe0B,EAC9B,CAEQlB,SAASuB,EAA0BC,GAAsB,GAC7D,IAAIN,EAAMpB,KAAK2B,KAAIL,GAAQG,EAAeH,KAC1C,OAAOtB,KAAKkB,aAAaE,EAC7B,E","sources":["webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/main/typescript/Users/werpu2/development/workspace/monadish/src/main/typescript/Es2019Array.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Extended array\n */\n\n/**\n * Extended array which adds various es 2019 shim functions to the normal array\n * We must remap all array producing functions in order to keep\n * the delegation active, once we are in!\n */\nexport class Es2019Array<T> extends Array<T> {\n\n    constructor(...another: T[]) {\n        super(...another);\n        //for testing it definitely runs into this branch because we are on es5 level\n        if (!(<any>Array.prototype).flatMap) {\n            this.flatMap = (flatMapFun) => this._flatMap(flatMapFun) as any;\n        }\n        if (!(<any>Array.prototype).flat) {\n            this.flat = (flatLevel: number = 1) => this._flat(flatLevel);\n        }\n    }\n\n    concat(...items): T[] {\n        return new Es2019Array(...super.concat(...items));\n    }\n\n    reverse(): T[] {\n        return new Es2019Array(...super.reverse());\n    }\n\n    slice(start?: number, end?: number): T[] {\n        return new Es2019Array(...super.slice(start, end));\n    }\n\n    splice(start: number, deleteCount?: number): T[] {\n        return new Es2019Array(...super.splice(start, deleteCount));\n    }\n\n    filter<S extends T>(predicate: (value: T, index: number, array: T[]) => any, thisArg?: any): S[] {\n        return new Es2019Array(...super.filter(predicate, thisArg) as any);\n    }\n\n\n    private _flat(flatDepth = 1) {\n        return this._flatResolve(this, flatDepth);\n    }\n\n    private _flatResolve(arr, flatDepth = 1) {\n        //recursion break\n        if (flatDepth == 0) {\n            return arr;\n        }\n        let res = [];\n\n        let reFlat = item => {\n            item = Array.isArray(item) ? item : [item];\n            let mapped = this._flatResolve(item, flatDepth - 1);\n            res = res.concat(mapped);\n        };\n        arr.forEach(reFlat)\n\n        return new Es2019Array(...res);\n    }\n\n    private _flatMap(mapperFunction: Function, noFallback: boolean = false): Es2019Array<T> {\n        let res = this.map(item => mapperFunction(item));\n        return this._flatResolve(res);\n    }\n}"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","Es2019Array","Array","constructor","another","super","flatMap","this","flatMapFun","_flatMap","flat","flatLevel","_flat","concat","items","reverse","slice","start","end","splice","deleteCount","filter","predicate","thisArg","flatDepth","_flatResolve","arr","res","forEach","item","isArray","mapped","mapperFunction","noFallback","map"],"sourceRoot":""}