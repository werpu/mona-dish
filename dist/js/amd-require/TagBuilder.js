require([],(function(){return function(){"use strict";var t={585:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},l=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function l(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l},s=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},c=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.DQ$=e.DQ=e.DomQueryCollector=e.DomQuery=e.Style=e.ElementAttribute=void 0;var p,f=n(152),h=n(255),d=n(805),v=d.Lang.trim,y=d.Lang.isString,b=d.Lang.equalsIgnoreCase,g=n(456),m=d.Lang.objToArray,A=n(484);function E(t,e,n){return void 0===n&&(n={attributes:!0,childList:!0,subtree:!0,timeout:500,interval:100}),new Promise((function(r,o){var l=null,a=new Error("Mutation observer timeout");function u(t,e){return e(t)?t:n.childList?e(t)?t:t.childNodes.filter((function(t){return e(t)})).first().value.value:n.subtree?e(t)?t:t.querySelectorAll(" * ").filter((function(t){return e(t)})).first().value.value:e(t)?t:null}var s=t;if(s=u(s,e))r(new N(s));else if("undefined"!=typeof MutationObserver){var c=setTimeout((function(){return l.disconnect(),o(a)}),n.timeout);l=new MutationObserver((function(n){var o=new N(n.map((function(t){return t.target}))).filter((function(t){return e(t)})).first();o.isPresent()&&(clearTimeout(c),l.disconnect(),r(new N(o||t)))}));var p=i({},n);delete p.timeout,t.eachElem((function(t){l.observe(t,p)}))}else var f=setInterval((function(){var n=u(t,e);n&&(h&&(clearTimeout(h),clearInterval(f),f=null),r(new N(n||t)))}),n.interval),h=setTimeout((function(){f&&(clearInterval(f),o(a))}),n.timeout)}))}!function(t){t.SELECT="select",t.BUTTON="button",t.SUBMIT="submit",t.RESET="reset",t.IMAGE="image",t.RADIO="radio",t.CHECKBOX="checkbox"}(p||(p={}));var w=function(t){function e(e,n,r){void 0===r&&(r=null);var o=t.call(this,e,n)||this;return o.element=e,o.name=n,o.defaultVal=r,o}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){var t,e=(t=this.element.get(0)).orElse.apply(t,[]).values;return e.length?e[0].getAttribute(this.name):this.defaultVal},set:function(t){for(var e,n=(e=this.element.get(0)).orElse.apply(e,[]).values,r=0;r<n.length;r++)n[r].setAttribute(this.name,t);n[0].setAttribute(this.name,t)},enumerable:!1,configurable:!0}),e.prototype.getClass=function(){return e},e.fromNullable=function(t,n){return void 0===n&&(n="value"),new e(t,n)},e}(f.ValueEmbedder);e.ElementAttribute=w;var _=function(t){function e(e,n,r){void 0===r&&(r=null);var o=t.call(this,e,n)||this;return o.element=e,o.name=n,o.defaultVal=r,o}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){var t=this.element.values;return t.length?t[0].style[this.name]:this.defaultVal},set:function(t){for(var e=this.element.values,n=0;n<e.length;n++)e[n].style[this.name]=t},enumerable:!1,configurable:!0}),e.prototype.getClass=function(){return w},e.fromNullable=function(t,e){return void 0===e&&(e="value"),new w(t,e)},e}(f.ValueEmbedder);e.Style=_;var S=function(){return!0},N=function(){function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(this.rootNode=[],this.pos=-1,this._limits=-1,!f.Optional.fromNullable(n).isAbsent()&&n.length)for(var o=0;o<n.length;o++)if(n[o])if(y(n[o])){var i=t.querySelectorAll(n[o]);i.isAbsent()||n.push.apply(n,s([],u(i.values),!1))}else n[o]instanceof t?(e=this.rootNode).push.apply(e,s([],u(n[o].values),!1)):this.rootNode.push(n[o]);else;}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getAsElem(0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this.allElems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"global",{get:function(){return g._global$},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return new w(this.get(0),"id")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.rootNode.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.getAsElem(0).getIf("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.getAsElem(0).getIf("nodeName")},enumerable:!1,configurable:!0}),t.prototype.isTag=function(t){return!this.isAbsent()&&(this.nodeName.orElse("__none___").value.toLowerCase()==t.toLowerCase()||this.tagName.orElse("__none___").value.toLowerCase()==t.toLowerCase())},Object.defineProperty(t.prototype,"type",{get:function(){return this.getAsElem(0).getIf("type")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return new f.ValueEmbedder(this.getAsElem(0).value,"name")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputValue",{get:function(){return this.getAsElem(0).getIf("value").isPresent()?new f.ValueEmbedder(this.getAsElem(0).value):f.ValueEmbedder.absent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"val",{get:function(){return this.inputValue.value},set:function(t){this.inputValue.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nodeId",{get:function(){return this.id.value},set:function(t){this.id.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return(new(A.Es2019Array.bind.apply(A.Es2019Array,s([void 0],u(this.values),!1)))).every((function(t){return!!t.checked}))},set:function(t){this.eachElem((function(e){return e.checked=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this.querySelectorAll("input, checkbox, select, textarea, fieldset")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deepElements",{get:function(){return this.querySelectorAllDeep("input, select, textarea, checkbox, fieldset")},enumerable:!1,configurable:!0}),t.prototype.querySelectorAllDeep=function(e){var n=[],r=this.querySelectorAll(e);r.length&&n.push(r);var o=this.querySelectorAll("*").shadowRoot;if(o.length){var i=o.querySelectorAllDeep(e);i.length&&n.push(i)}return new(t.bind.apply(t,s([void 0],u(n),!1)))},Object.defineProperty(t.prototype,"disabled",{get:function(){return this.attr("disabled").isPresent()},set:function(t){t?this.attr("disabled").value="disabled":this.removeAttribute("disabled")},enumerable:!1,configurable:!0}),t.prototype.removeAttribute=function(t){this.eachElem((function(e){return e.removeAttribute(t)}))},Object.defineProperty(t.prototype,"childNodes",{get:function(){var e=[];return this.eachElem((function(t){e=e.concat(m(t.childNodes))})),new(t.bind.apply(t,s([void 0],u(e),!1)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"asArray",{get:function(){return(new(A.Es2019Array.bind.apply(A.Es2019Array,s([void 0],u(this.rootNode),!1)))).filter((function(t){return null!=t})).map((function(e){return t.byId(e)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetWidth",{get:function(){return(new(A.Es2019Array.bind.apply(A.Es2019Array,s([void 0],u(this.rootNode),!1)))).filter((function(t){return null!=t})).map((function(t){return t.offsetWidth})).reduce((function(t,e){return t+e}),0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetHeight",{get:function(){return(new(A.Es2019Array.bind.apply(A.Es2019Array,s([void 0],u(this.rootNode),!1)))).filter((function(t){return null!=t})).map((function(t){return t.offsetHeight})).reduce((function(t,e){return t+e}),0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetLeft",{get:function(){return(new(A.Es2019Array.bind.apply(A.Es2019Array,s([void 0],u(this.rootNode),!1)))).filter((function(t){return null!=t})).map((function(t){return t.offsetLeft})).reduce((function(t,e){return t+e}),0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetTop",{get:function(){return new A.Es2019Array(this.rootNode).filter((function(t){return null!=t})).map((function(t){return t.offsetTop})).reduce((function(t,e){return t+e}),0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"asNodeArray",{get:function(){return new(A.Es2019Array.bind.apply(A.Es2019Array,s([void 0],u(this.rootNode.filter((function(t){return null!=t}))),!1)))},enumerable:!1,configurable:!0}),t.querySelectorAllDeep=function(e){return new t(document).querySelectorAllDeep(e)},t.querySelectorAll=function(e){return-1!=e.indexOf("/shadow/")?new t(document)._querySelectorAllDeep(e):new t(document)._querySelectorAll(e)},t.byId=function(e,n){return void 0===n&&(n=!1),y(e)?n?new t(document).byIdDeep(e):new t(document).byId(e):new t(e)},t.byTagName=function(e){return y(e)?new t(document).byTagName(e):new t(e)},t.globalEval=function(e,n){return new t(document).globalEval(e,n)},t.globalEvalSticky=function(e,n){return new t(document).globalEvalSticky(e,n)},t.fromMarkup=function(e){var n=document.implementation.createHTMLDocument(""),r=(e=v(e)).toLowerCase();if(-1!=r.search(/\<\!doctype[^\w\-]+/gi)||-1!=r.search(/\<html[^\w\-]+/gi)||-1!=r.search(/\<head[^\w\-]+/gi)||-1!=r.search(/\<body[^\w\-]+/gi))return n.documentElement.innerHTML=e,new t(n.documentElement);var o=function(t,e){var n=["<",e,">"].join(""),r=["<",e," "].join("");return 0==t.indexOf(n)||0==t.indexOf(r)},i=new t(document.createElement("div"));return o(r,"thead")||o(r,"tbody")?(i.html("<table>".concat(e,"</table>")),i.querySelectorAll("table").get(0).childNodes.detach()):o(r,"tfoot")?(i.html("<table><thead></thead><tbody><tbody".concat(e,"</table>")),i.querySelectorAll("table").get(2).childNodes.detach()):o(r,"tr")?(i.html("<table><tbody>".concat(e,"</tbody></table>")),i.querySelectorAll("tbody").get(0).childNodes.detach()):o(r,"td")?(i.html("<table><tbody><tr>".concat(e,"</tr></tbody></table>")),i.querySelectorAll("tr").get(0).childNodes.detach()):(i.html(e),i.childNodes.detach())},t.prototype.get=function(e){return e<this.rootNode.length?new t(this.rootNode[e]):t.absent},t.prototype.getAsElem=function(t,e){return void 0===e&&(e=f.Optional.absent),t<this.rootNode.length?f.Optional.fromNullable(this.rootNode[t]):e},t.prototype.filesFromElem=function(t){var e;return t<this.rootNode.length&&(null===(e=this.rootNode[t])||void 0===e?void 0:e.files)?this.rootNode[t].files:[]},t.prototype.allElems=function(){return this.rootNode},t.prototype.isAbsent=function(){return 0==this.length},t.prototype.isPresent=function(t){var e=this.isAbsent();return!e&&t&&t.call(this,this),!e},t.prototype.ifPresentLazy=function(t){return void 0===t&&(t=function(){}),this.isPresent.call(this,t),this},t.prototype.delete=function(){this.eachElem((function(t){t.parentNode&&t.parentNode.removeChild(t)}))},t.prototype.querySelectorAll=function(t){return-1!=t.indexOf("/shadow/")?this._querySelectorAllDeep(t):this._querySelectorAll(t)},t.prototype.closest=function(t){return-1!=t.indexOf("/shadow/")?this._closestDeep(t):this._closest(t)},t.prototype.byId=function(e,n){var r=[];return n&&(r=r.concat.apply(r,s([],u((new(A.Es2019Array.bind.apply(A.Es2019Array,s([void 0],u((null==this?void 0:this.rootNode)||[]),!1)))).filter((function(t){return e==t.id})).map((function(e){return new t(e)}))),!1))),r=r.concat(this.querySelectorAll('[id="'.concat(e,'"]'))),new(t.bind.apply(t,s([void 0],u(r),!1)))},t.prototype.byIdDeep=function(e,n){var r=[];n&&(r=r.concat((new(A.Es2019Array.bind.apply(A.Es2019Array,s([void 0],u((null==this?void 0:this.rootNode)||[]),!1)))).filter((function(t){return e==t.id})).map((function(e){return new t(e)}))));var o=this.querySelectorAllDeep('[id="'.concat(e,'"]'));return o.length&&r.push(o),new(t.bind.apply(t,s([void 0],u(r),!1)))},t.prototype.byTagName=function(e,n,r){var o,i=[];return n&&(i=(new(A.Es2019Array.bind.apply(A.Es2019Array,s([void 0],u(null!==(o=null==this?void 0:this.rootNode)&&void 0!==o?o:[]),!1)))).filter((function(t){return(null==t?void 0:t.tagName)==e})).reduce((function(t,e){return t.concat([e])}),i)),r?i.push(this.querySelectorAllDeep(e)):i.push(this.querySelectorAll(e)),new(t.bind.apply(t,s([void 0],u(i),!1)))},t.prototype.attr=function(t,e){return void 0===e&&(e=null),new w(this,t,e)},t.prototype.style=function(t,e){return void 0===e&&(e=null),new _(this,t,e)},t.prototype.hasClass=function(t){var e=!1;return this.eachElem((function(n){if(e=n.classList.contains(t))return!1})),e},t.prototype.addClass=function(t){return this.eachElem((function(e){return e.classList.add(t)})),this},t.prototype.removeClass=function(t){return this.eachElem((function(e){return e.classList.remove(t)})),this},t.prototype.isMultipartCandidate=function(t){void 0===t&&(t=!1);var e="input[type='file']";return this.matchesSelector(e)||(t?this.querySelectorAllDeep(e):this.querySelectorAll(e)).first().isPresent()},t.prototype.html=function(t){return f.Optional.fromNullable(t).isAbsent()?this.isPresent()?f.Optional.fromNullable(this.innerHTML):f.Optional.absent:(this.innerHTML=t,this)},t.prototype.dispatchEvent=function(t){return this.eachElem((function(e){return e.dispatchEvent(t)})),this},Object.defineProperty(t.prototype,"innerHTML",{get:function(){var t=[];return this.eachElem((function(e){return t.push(e.innerHTML)})),t.join("")},set:function(t){this.eachElem((function(e){return e.innerHTML=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerHtml",{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t},enumerable:!1,configurable:!0}),t.prototype.filterSelector=function(e){var n=this,r=[];return this.eachElem((function(t){n._mozMatchesSelector(t,e)&&r.push(t)})),new(t.bind.apply(t,s([void 0],u(r),!1)))},t.prototype.matchesSelector=function(t){var e=this;return this.asArray.some((function(n){return e._mozMatchesSelector(n.getAsElem(0).value,t)}))},t.prototype.getIf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this.childNodes,r=0;r<t.length;r++)if((n=n.filterSelector(t[r])).isAbsent())return n;return n},t.prototype.eachElem=function(t){for(var e=0,n=this.rootNode.length;e<n&&!1!==t(this.rootNode[e],e);e++);return this},t.prototype.firstElem=function(t){return void 0===t&&(t=function(t){return t}),this.rootNode.length>1&&t(this.rootNode[0],0),this},t.prototype.lastElem=function(t){return void 0===t&&(t=function(t){return t}),this.rootNode.length>1&&t(this.rootNode[this.rootNode.length-1],0),this},t.prototype.each=function(e){return(new(A.Es2019Array.bind.apply(A.Es2019Array,s([void 0],u(this.rootNode),!1)))).forEach((function(n,r){if(null!=n)return e(t.byId(n),r)})),this},t.prototype.replace=function(e){return this.each((function(n){var r=n.getAsElem(0).value,o=r.parentElement,i=r.nextElementSibling,l=r.previousElementSibling;null!=i?new t(i).insertBefore(e):l?new t(l).insertAfter(e):new t(o).append(e),n.delete()})),e},t.prototype.first=function(t){return void 0===t&&(t=function(t){return t}),this.rootNode.length>=1?(t(this.get(0),0),this.get(0)):this},t.prototype.last=function(t){if(void 0===t&&(t=function(t){return t}),this.rootNode.length>=1){var e=this.get(this.rootNode.length-1);return t(e,0),e}return this},t.prototype.filter=function(e){var n=[];return this.each((function(t){e(t)&&n.push(t)})),new(t.bind.apply(t,s([void 0],u(n),!1)))},t.prototype.globalEval=function(t,e){var n,r,o,i=null!==(r=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==r?r:null===(o=document.documentElement.getElementsByTagName("head"))||void 0===o?void 0:o[0],l=document.createElement("script");e&&(void 0!==(null==l?void 0:l.nonce)?l.nonce=e:l.setAttribute("nonce",e)),l.type="text/javascript",l.innerHTML=t;var a=i.appendChild(l);return i.removeChild(a),this},t.prototype.globalEvalSticky=function(t,e){var n=document.getElementsByTagName("head")[0]||document.documentElement,r=document.createElement("script");return this.applyNonce(e,r),r.type="text/javascript",r.innerHTML=t,n.appendChild(r),this},t.prototype.detach=function(){return this.eachElem((function(t){t.parentNode.removeChild(t)})),this},t.prototype.appendTo=function(e){return d.Lang.isString(e)?(this.appendTo(t.querySelectorAll(e)),this):(this.eachElem((function(t){e.getAsElem(0).orElseLazy((function(){return{appendChild:function(){}}})).value.appendChild(t)})),this)},t.prototype.loadScriptEval=function(t,e,n){return void 0===e&&(e=0),this._loadScriptEval(!1,t,e,n),this},t.prototype.loadScriptEvalSticky=function(t,e,n){return void 0===e&&(e=0),this._loadScriptEval(!0,t,e,n),this},t.prototype.insertAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.each((function(t){for(var n=t.getAsElem(0).value,r=n.parentNode,o=function(t){var o=n.nextSibling;e[t].eachElem((function(t){o?(r.insertBefore(t,o),n=o):r.appendChild(t)}))},i=0;i<e.length;i++)o(i)}));var r=[];return r.push(this),r=r.concat(e),new(t.bind.apply(t,s([void 0],u(r),!1)))},t.prototype.insertBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.each((function(t){for(var n=t.getAsElem(0).value,r=n.parentNode,o=0;o<e.length;o++)e[o].eachElem((function(t){r.insertBefore(t,n)}))}));var r=[];return r.push(this),r=r.concat(e),new(t.bind.apply(t,s([void 0],u(r),!1)))},t.prototype.orElse=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.isPresent()?this:new(t.bind.apply(t,s([void 0],u(e),!1)))},t.prototype.orElseLazy=function(e){return this.isPresent()?this:new t(e())},t.prototype.allParents=function(e){for(var n=this.parent(),r=[];n.isPresent();)n.matchesSelector(e)&&r.push(n),n=n.parent();return new(t.bind.apply(t,s([void 0],u(r),!1)))},t.prototype.firstParent=function(e){for(var n=this.parent();n.isPresent();){if(n.matchesSelector(e))return n;n=n.parent()}return t.absent},t.prototype.parentsWhileMatch=function(e){for(var n=[],r=this.parent().filter((function(t){return t.matchesSelector(e)}));r.isPresent();)n.push(r),r=r.parent().filter((function(t){return t.matchesSelector(e)}));return new(t.bind.apply(t,s([void 0],u(n),!1)))},t.prototype.parent=function(){var e=[];return this.eachElem((function(t){var n=t.parentNode||t.host||t.shadowRoot;n&&-1==e.indexOf(n)&&e.push(n)})),new(t.bind.apply(t,s([void 0],u(e),!1)))},t.prototype.copyAttrs=function(t){var e=this;return t.eachElem((function(t){var n,r,o=m(t.attributes);try{for(var i=c(o),l=i.next();!l.done;l=i.next()){var a=l.value,u=a.value,s=a.name;switch(s){case"id":e.id.value=u;break;case"disabled":e.resolveAttributeHolder("disabled").disabled=u;break;case"checked":e.resolveAttributeHolder("checked").checked=u;break;default:e.attr(s).value=u}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}})),this},t.prototype.outerHTML=function(e,n,r,o){var i;if(void 0===o&&(o=!1),!this.isAbsent()){var l=null===(i=null===document||void 0===document?void 0:document.activeElement)||void 0===i?void 0:i.id,a=l?t.getCaretPosition(document.activeElement):null,c=t.fromMarkup(e),p=[],f=this.getAsElem(0).value,h=c.get(0),d=f.parentNode,v=h.getAsElem(0).value;if(d.replaceChild(v,f),p.push(new t(v)),this.isAbsent())return this;var y=[];c.length>1&&(y=y.concat.apply(y,s([],u(c.values.slice(1)),!1)),p.push(t.byId(v).insertAfter(new(t.bind.apply(t,s([void 0],u(y),!1)))))),n&&this.runScripts(),r&&this.runCss();var b=t.byId(l);return l&&b.isPresent()&&null!=a&&void 0!==a&&b.eachElem((function(e){return t.setCaretPosition(e,a)})),c}},t.prototype.runScripts=function(e,n){var r=this;void 0===e&&(e=!1),void 0===n&&(n=S);var o=function(t){if(t.length){var n=[];(new(A.Es2019Array.bind.apply(A.Es2019Array,s([void 0],u(t),!1)))).forEach((function(t){t.nonce?(n.length&&(r.globalEval(n.join("\n")),n.length=0),e?r.globalEvalSticky(t.evalText,t.nonce):r.globalEval(t.evalText,t.nonce)):n.push(t.evalText)})),n.length&&(e?r.globalEvalSticky(n.join("\n")):r.globalEval(n.join("\n")),n.length=0),t=[]}return t},i=[],l=["","script","text/javascript","text/ecmascript","ecmascript"],a=function(t){var a,u,s,c,p=t.tagName,f=(null!==(a=null==t?void 0:t.type)&&void 0!==a?a:"").toLowerCase();if(p&&b(p,"script")&&-1!=l.indexOf(f)){var h=t.getAttribute("src");if(void 0!==h&&null!=h&&h.length>0){var d=null!==(u=null==t?void 0:t.nonce)&&void 0!==u?u:t.getAttribute("nonce").value;n(h)&&(i=o(i),e?d?r.loadScriptEvalSticky(h,0,d):r.loadScriptEvalSticky(h,0):d?r.loadScriptEval(h,0,d):r.loadScriptEval(h,0))}else{for(var y=v(t.text||t.innerText||t.innerHTML),g=!0;g;)g=!1,"\x3c!--"==y.substring(0,4)&&(y=y.substring(4),g=!0),"//\x3c!--"==y.substring(0,4)&&(y=y.substring(6),g=!0),"//<![CDATA["==y.substring(0,11)&&(y=y.substring(11),g=!0);d=null!==(c=null!==(s=null==t?void 0:t.nonce)&&void 0!==s?s:t.getAttribute("nonce").value)&&void 0!==c?c:"";i.push({nonce:d,evalText:y})}}};try{new t(this.filterSelector("script"),this.querySelectorAll("script")).asArray.flatMap((function(t){return s([],u(t.values),!1)})).sort((function(t,e){return t.compareDocumentPosition(e)-3})).forEach((function(t){return a(t)})),o(i)}catch(t){console&&console.error&&console.error(t.message||t.description)}finally{a=null}return this},t.prototype.runCss=function(){return new t(this.filterSelector("link, style"),this.querySelectorAll("link, style")).asArray.flatMap((function(t){return s([],u(t.values),!1)})).sort((function(t,e){return t.compareDocumentPosition(e)-3})).forEach((function(e){return function(e){var n=t.byId(e),r=n.tagName.orElse("").value,o=t.byTagName("head");if(r&&b(r,"link")&&b(e.getAttribute("rel"),"stylesheet")){var i=e.getAttribute("rel"),l=o.querySelectorAll("link[rel='stylesheet'][href='".concat(i,"']"));l.length?l.replace(n):o.append(n)}else if(r&&b(r,"style")){var a=n.innerHTML.replace(/\s+/gi,""),c=o.querySelectorAll("style"),p=c.asArray.filter((function(t){return t.innerHTML.replace(/\s+/gi,"")==a}));(c=new(t.bind.apply(t,s([void 0],u(p),!1)))).length||o.append(n)}}(e)})),this},t.prototype.click=function(){return this.fireEvent("click"),this},t.prototype.addEventListener=function(t,e,n){return this.eachElem((function(r){return r.addEventListener(t,e,n)})),this},t.prototype.removeEventListener=function(t,e,n){return this.eachElem((function(r){return r.removeEventListener(t,e,n)})),this},t.prototype.fireEvent=function(t,e){var n=this;void 0===e&&(e={});var r=new f.Config({bubbles:!0,cancelable:!0});r.shallowMerge(new f.Config(e)),r=JSON.parse(r.toJson()),this.eachElem((function(e){var o;if(e.ownerDocument)o=e.ownerDocument;else{if(9!=e.nodeType)throw new Error("Invalid node passed to fireEvent: "+e.id);o=e}if(e.dispatchEvent){var i=Event;switch(t){case"click":case"mousedown":case"mouseup":case"mousemove":i=n.global().MouseEvent;break;case"keyup":case"keydown":case"keypress":i=n.global().KeyboardEvent;break;case"focus":case"change":case"blur":case"select":break;default:throw"fireEvent: Couldn't find an event class for event '"+t+"'."}var l=new i(t,r);l.synthetic=!0,e.dispatchEvent(l)}else if(e.fireEvent){var a=o.createEventObject();a.synthetic=!0,Object.keys(r).forEach((function(t){return a[t]=r[t]})),e.fireEvent("on"+t,a)}}))},t.prototype.textContent=function(t){return void 0===t&&(t=""),this.asArray.map((function(t){return t.getAsElem(0).orElseLazy((function(){return{textContent:""}})).value.textContent||""})).reduce((function(e,n){return[e,t,n].join("")}),"")},t.prototype.innerText=function(t){return void 0===t&&(t=""),this.asArray.map((function(t){return t.getAsElem(0).orElseLazy((function(){return{innerText:""}})).value.innerText||""})).reduce((function(e,n){return[e,n].join(t)}),"")},t.prototype.encodeFormElement=function(t){if(void 0===t&&(t=new f.Config({})),!this.name.isAbsent()){var e=t.shallowCopy;return this.each((function(t){var n,r;if(!t.name.isAbsent()){var o=t.name.value,i=t.tagName.orElse("__none__").value.toLowerCase(),l=t.type.orElse("__none__").value.toLowerCase();if(l=l.toLowerCase(),("input"==i||"textarea"==i||"select"==i)&&null!=o&&""!=o&&!t.disabled){if("select"==i){var a=t.getAsElem(0).value;if(a.selectedIndex>=0)for(var u=a.options.length,s=0;s<u;s++)if(a.options[s].selected){var c=a.options[s];e.append(o).value=null!=c.getAttribute("value")?c.value:c.text}}if(i!=p.SELECT&&l!=p.BUTTON&&l!=p.RESET&&l!=p.SUBMIT&&l!=p.IMAGE&&(l!=p.CHECKBOX&&l!=p.RADIO||t.checked)){var f=null===(r=null===(n=t.value)||void 0===n?void 0:n.value)||void 0===r?void 0:r.files,h=null!=f?f:[];if(null==h?void 0:h.length)e.assign(o).value=Array.from(h);else{if(f)return;e.append(o).value=t.inputValue.value}}}}})),e}},Object.defineProperty(t.prototype,"cDATAAsString",{get:function(){return this.asArray.flatMap((function(t){return t.childNodes.asArray})).filter((function(t){var e,n;return 4==(null===(n=null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.value)||void 0===n?void 0:n.nodeType)})).reduce((function(t,e){var n,r,o;return t.push(null!==(o=null===(r=null===(n=null==e?void 0:e.value)||void 0===n?void 0:n.value)||void 0===r?void 0:r.data)&&void 0!==o?o:""),t}),[]).join("")},enumerable:!1,configurable:!0}),t.prototype.subNodes=function(e,n){return f.Optional.fromNullable(n).isAbsent()&&(n=this.length),new(t.bind.apply(t,s([void 0],u(this.rootNode.slice(e,Math.min(n,this.length))),!1)))},t.prototype.limits=function(t){return this._limits=t,this},t.prototype.hasNext=function(){var t=-1!=this._limits&&this.pos>=this._limits-1,e=this.pos>=this.values.length-1;return!(t||e)},t.prototype.next=function(){return this.hasNext()?(this.pos++,new t(this.values[this.pos])):null},t.prototype.lookAhead=function(e){return void 0===e&&(e=1),this.values.length-1<this.pos+e?h.ITERATION_STATUS.EO_STRM:new t(this.values[this.pos+e])},t.prototype.current=function(){return-1==this.pos?h.ITERATION_STATUS.BEF_STRM:new t(this.values[this.pos])},t.prototype.reset=function(){this.pos=-1},t.prototype.attachShadow=function(e){void 0===e&&(e={mode:"open"});var n=[];return this.eachElem((function(r){var o;if(!(null==r?void 0:r.attachShadow))throw new Error("Shadow dom creation not supported by the browser, please use a shim, to gain this functionality");o=t.byId(r.attachShadow(e)),n.push(o)})),new(t.bind.apply(t,s([void 0],u(n),!1)))},t.prototype.waitUntilDom=function(t,e){return void 0===e&&(e={attributes:!0,childList:!0,subtree:!0,timeout:500,interval:100}),l(this,void 0,void 0,(function(){return a(this,(function(n){return[2,E(this,t,e)]}))}))},Object.defineProperty(t.prototype,"shadowElements",{get:function(){var e=(this.querySelectorAll("*").filter((function(t){return t.hasShadow})).allElems()||[]).map((function(t){return t.shadowRoot}));return new(t.bind.apply(t,s([void 0],u(e),!1)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowRoot",{get:function(){for(var e=[],n=0;n<this.rootNode.length;n++)this.rootNode[n].shadowRoot&&e.push(this.rootNode[n].shadowRoot);return new(t.bind.apply(t,s([void 0],u(e),!1)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasShadow",{get:function(){for(var t=0;t<this.rootNode.length;t++)if(this.rootNode[t].shadowRoot)return!0;return!1},enumerable:!1,configurable:!0}),t.getCaretPosition=function(t){var e=0;try{if(null===document||void 0===document?void 0:document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}}catch(t){}return e},t.setCaretPosition=function(t,e){(null==t?void 0:t.focus)&&(null==t||t.focus()),(null==t?void 0:t.setSelectiongRange)&&(null==t||t.setSelectiongRange(e,e))},t.prototype[Symbol.iterator]=function(){var t=this;return{next:function(){return{done:!t.hasNext(),value:t.next()}}}},t.prototype.concat=function(e,n){void 0===n&&(n=!0);var r=new(t.bind.apply(t,s([void 0],u(this.asArray.concat(e.asArray)),!1)));if(!n)return r;var o={};return new(t.bind.apply(t,s([void 0],u(r.asArray.filter((function(t){var e=!(null==o?void 0:o[t.value.value.outerHTML]);return o[t.value.value.outerHTML]=!0,e}))),!1)))},t.prototype.append=function(t){return this.each((function(e){return t.appendTo(e)})),this},t.prototype.prependTo=function(t){var e=this;return t.eachElem((function(t){t.prepend.apply(t,s([],u(e.allElems()),!1))})),this},t.prototype.prepend=function(t){return this.eachElem((function(e){e.prepend.apply(e,s([],u(t.allElems()),!1))})),this},t.prototype._querySelectorAll=function(e){var n,r;if(!(null===(n=null==this?void 0:this.rootNode)||void 0===n?void 0:n.length))return this;for(var o=[],i=0;i<this.rootNode.length;i++)if(null===(r=this.rootNode[i])||void 0===r?void 0:r.querySelectorAll){var l=this.rootNode[i].querySelectorAll(e);o=o.concat(m(l))}return new(t.bind.apply(t,s([void 0],u(o),!1)))},t.prototype._querySelectorAllDeep=function(e){var n;if(!(null===(n=null==this?void 0:this.rootNode)||void 0===n?void 0:n.length))return this;for(var r=new(t.bind.apply(t,s([void 0],u(this.rootNode),!1))),o=e.split(/\/shadow\//),i=0;i<o.length;i++)if(""!=o[i]){var l=o[i];r=r.querySelectorAll(l),i<o.length-1&&(r=r.shadowRoot)}return r},t.prototype._closest=function(e){var n,r;if(!(null===(n=null==this?void 0:this.rootNode)||void 0===n?void 0:n.length))return this;for(var o=[],i=0;i<this.rootNode.length;i++)if(null===(r=this.rootNode[i])||void 0===r?void 0:r.closest){var l=[this.rootNode[i].closest(e)];o=o.concat.apply(o,s([],u(l),!1))}return new(t.bind.apply(t,s([void 0],u(o),!1)))},t.prototype._closestDeep=function(e){var n;if(!(null===(n=null==this?void 0:this.rootNode)||void 0===n?void 0:n.length))return this;for(var r=new(t.bind.apply(t,s([void 0],u(this.rootNode),!1))),o=e.split(/\/shadow\//),i=0;i<o.length;i++)if(""!=o[i]){var l=o[i];r=r.closest(l),i<o.length-1&&(r=r.shadowRoot)}return r},t.prototype._mozMatchesSelector=function(t,e){var n=t;return(n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(e){for(var n=(document||ownerDocument).querySelectorAll(e),r=n.length;--r>=0&&n.item(r)!==t;);return r>-1}).call(t,e)},t.prototype._loadScriptEval=function(t,e,n,r){void 0===n&&(n=0);var o=this.createSourceNode(e,r),i=this.createSourceNode(null,r),l="nonce_".concat(Date.now(),"_").concat(Math.random());i.innerHTML='document.head["'.concat(l,'"] = true');var a=document.head;if(a.appendChild(i),a.removeChild(i),a[l]){try{n?setTimeout((function(){a.appendChild(o),t||a.removeChild(o)}),n):(a.appendChild(o),t||a.removeChild(o))}finally{delete a[l]}return this}},t.prototype.resolveAttributeHolder=function(t){void 0===t&&(t="value");var e=[];return e[t]=null,t in this.getAsElem(0).value?this.getAsElem(0).value:e},t.prototype.createSourceNode=function(t,e){var n=document.createElement("script");return n.type="text/javascript",e&&(void 0!==(null==n?void 0:n.nonce)?n.nonce=e:n.setAttribute("nonce",e)),t&&(n.src=t),n},t.prototype.applyNonce=function(t,e){t&&(void 0!==(null==e?void 0:e.nonce)?e.nonce=t:e.setAttribute("nonce",t))},t.absent=new t,t.global=g._global$,t}();e.DomQuery=N;var O=function(){function t(){this.data=[]}return t.prototype.collect=function(t){this.data.push(t)},Object.defineProperty(t.prototype,"finalValue",{get:function(){return new(N.bind.apply(N,s([void 0],u(this.data),!1)))},enumerable:!1,configurable:!0}),t}();e.DomQueryCollector=O,e.DQ=N,e.DQ$=N.querySelectorAll},484:function(t,e){var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l},i=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.Es2019Array=void 0;var l=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var l=t.apply(this,i([],o(n),!1))||this;if(!Array.prototype.flatMap){var a=e.prototype.flatMap_;l.flatMap=a}return l}return r(e,t),e.prototype.flatMap_=function(t,n){void 0===n&&(n=!1);var r=[],l=function(e){var n=t(e);if(Array.isArray(n)){if(1==n.length)return void r.push(n[1]);n.length>1&&n.forEach((function(t){return l(t)}))}else r.push(e)};return this.forEach((function(t){return l(t)})),new(e.bind.apply(e,i([void 0],o(r),!1)))},e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new(e.bind.apply(e,i([void 0],o(t.prototype.concat.apply(this,i([],o(n),!1))),!1)))},e.prototype.reverse=function(){return new(e.bind.apply(e,i([void 0],o(t.prototype.reverse.call(this)),!1)))},e.prototype.slice=function(n,r){return new(e.bind.apply(e,i([void 0],o(t.prototype.slice.call(this,n,r)),!1)))},e.prototype.splice=function(n,r){return new(e.bind.apply(e,i([void 0],o(t.prototype.splice.call(this,n,r)),!1)))},e.prototype.filter=function(n,r){return new(e.bind.apply(e,i([void 0],o(t.prototype.filter.call(this,n,r)),!1)))},e}(Array);e.Es2019Array=l},456:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e._global$=void 0,e._global$=function(){var t,e="undefined"!=typeof globalThis&&globalThis.window?globalThis.window:"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:void 0!==n.g&&(null===n.g||void 0===n.g?void 0:n.g.window)?n.g.window:void 0!==n.g?n.g:null;return null!==(t=null==e?void 0:e.window)&&void 0!==t?t:e}},805:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Lang=void 0;var r=n(152);!function(t){function e(t){for(var e=/\s/,n=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(--n)););return t.slice(0,n+1)}function n(t){return!!arguments.length&&null!=t&&("string"==typeof t||t instanceof String)}t.saveResolve=function(t,e){void 0===e&&(e=null);try{var n=t();return r.Optional.fromNullable(null!=n?n:e)}catch(t){return r.Optional.absent}},t.saveResolveLazy=function(t,e){void 0===e&&(e=null);try{var n=t();return r.Optional.fromNullable(null!=n?n:e())}catch(t){return r.Optional.absent}},t.strToArray=function(t,n){void 0===n&&(n=/\./gi);var r=[];return t.split(n).forEach((function(t){r.push(e(t))})),r},t.trim=e,t.objToArray=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=[]),"__undefined__"==(null!=t?t:"__undefined__")?null!=n?n:null:t instanceof Array&&!e&&!n?t:n.concat(Array.prototype.slice.call(t,e))},t.equalsIgnoreCase=function(t,e){var n=null!=e?e:"___no_value__";return(null!=t?t:"___no_value__").toLowerCase()===n.toLowerCase()},t.assertType=function(t,e){return n(e)?typeof t==e:t instanceof e},t.isString=n,t.isFunc=function(t){return t instanceof Function||"function"==typeof t},t.objAssign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(null==t)throw new TypeError("Cannot convert undefined or null to object");var r=Object(t);return Object.assign?(e.forEach((function(t){return Object.assign(r,t)})),r):(e.filter((function(t){return null!=t})).forEach((function(t){var e=t;Object.keys(e).filter((function(t){return Object.prototype.hasOwnProperty.call(e,t)})).forEach((function(t){return r[t]=e[t]}))})),r)}}(e.Lang||(e.Lang={}))},152:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l},l=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.Config=e.CONFIG_ANY=e.CONFIG_VALUE=e.ValueEmbedder=e.Optional=e.Monad=void 0;var a=n(805),u=n(484),s=a.Lang.objAssign,c=function(){function t(t){this._value=t}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),t.prototype.map=function(e){return e||(e=function(t){return t}),new t(e(this.value))},t.prototype.flatMap=function(e){for(var n=this.map(e);(null==n?void 0:n.value)instanceof t;)n=n.value;return n},t}();e.Monad=c;var p=function(t){function e(e){return t.call(this,e)||this}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value instanceof c?this._value.flatMap().value:this._value},enumerable:!1,configurable:!0}),e.fromNullable=function(t){return new e(t)},e.prototype.isAbsent=function(){return void 0===this.value||null==this.value},e.prototype.isPresent=function(t){var e=this.isAbsent();return!e&&t&&t.call(this,this),!e},e.prototype.ifPresentLazy=function(t){return void 0===t&&(t=function(){}),this.isPresent.call(this,t),this},e.prototype.orElse=function(t){return this.isPresent()?this:null==t?e.absent:this.flatMap((function(){return t}))},e.prototype.orElseLazy=function(t){return this.isPresent()?this:this.flatMap(t)},e.prototype.flatMap=function(n){var r=t.prototype.flatMap.call(this,n);return r instanceof e?r.flatMap():e.fromNullable(r.value)},e.prototype.getIf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t=this.preprocessKeys.apply(this,l([],i(t),!1));for(var n=this,r=0;r<t.length;r++){var o=this.keyVal(t[r]),a=this.arrayIndex(t[r]);if(""===o&&a>=0){if((n=this.getClass().fromNullable(n.value instanceof Array?n.value.length<a?null:n.value[a]:null)).isAbsent())return n}else if(o&&a>=0){if(n.getIfPresent(o).isAbsent())return n;if((n=n.getIfPresent(o).value instanceof Array?this.getClass().fromNullable(n.getIfPresent(o).value[a]):this.getClass().absent).isAbsent())return n}else{if((n=n.getIfPresent(o)).isAbsent())return n;a>-1&&(n=this.getClass().fromNullable(n.value[a]))}}return n},e.prototype.match=function(t){return!this.isAbsent()&&t(this.value)},e.prototype.get=function(t){return void 0===t&&(t=e.absent),this.isAbsent()?this.getClass().fromNullable(t).flatMap():this.getClass().fromNullable(this.value).flatMap()},e.prototype.toJson=function(){return JSON.stringify(this.value)},e.prototype.getClass=function(){return e},e.prototype.arrayIndex=function(t){var e=t.indexOf("["),n=t.indexOf("]");return e>=0&&n>0&&e<n?parseInt(t.substring(e+1,n)):-1},e.prototype.keyVal=function(t){var e=t.indexOf("[");return e>=0?t.substring(0,e):t},e.prototype.getIfPresent=function(t){return this.isAbsent()?this.getClass().absent:this.getClass().fromNullable(this.value[t]).flatMap()},e.prototype.resolve=function(t){if(this.isAbsent())return e.absent;try{return e.fromNullable(t(this.value))}catch(t){return e.absent}},e.prototype.preprocessKeys=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(new(u.Es2019Array.bind.apply(u.Es2019Array,l([void 0],i(t),!1)))).flatMap((function(t){return(new(u.Es2019Array.bind.apply(u.Es2019Array,l([void 0],i(t.split(/]\s*\[/gi)),!1)))).map((function(t){return-1==(t=t.replace(/^\s+|\s+$/g,"")).indexOf("[")&&-1!=t.indexOf("]")&&(t="["+t),-1==t.indexOf("]")&&-1!=t.indexOf("[")&&(t+="]"),t}))}))},e.absent=e.fromNullable(null),e}(c);e.Optional=p;var f=function(t){function e(e,n){void 0===n&&(n="value");var r=t.call(this,e)||this;return r.key=n,r}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value?this._value[this.key]:null},set:function(t){this._value&&(this._value[this.key]=t)},enumerable:!1,configurable:!0}),e.prototype.orElse=function(t){var n={};return n[this.key]=t,this.isPresent()?this:new e(n,this.key)},e.prototype.orElseLazy=function(t){if(this.isPresent())return this;var n={};return n[this.key]=t(),new e(n,this.key)},e.prototype.getClass=function(){return e},e.fromNullable=function(t,n){return void 0===n&&(n="value"),new e(t,n)},e.absent=e.fromNullable(null),e}(p);e.ValueEmbedder=f;var h=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.arrPos=null!=r?r:-1,o}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return""==this.key&&this.arrPos>=0?this._value[this.arrPos]:this.key&&this.arrPos>=0?this._value[this.key][this.arrPos]:this._value[this.key]},set:function(t){""==this.key&&this.arrPos>=0?this._value[this.arrPos]=t:this.key&&this.arrPos>=0?this._value[this.key][this.arrPos]=t:this._value[this.key]=t},enumerable:!1,configurable:!0}),e.absent=e.fromNullable(null),e}(f);e.CONFIG_VALUE="__END_POINT__",e.CONFIG_ANY="__ANY_POINT__";var d=function(t){function n(e,n){var r=t.call(this,e)||this;return r.configDef=n,r}return o(n,t),Object.defineProperty(n.prototype,"shallowCopy",{get:function(){return this.shallowCopy$()},enumerable:!1,configurable:!0}),n.prototype.shallowCopy$=function(){var t=new n({});return t.shallowMerge(this.value),t},Object.defineProperty(n.prototype,"deepCopy",{get:function(){return this.deepCopy$()},enumerable:!1,configurable:!0}),n.prototype.deepCopy$=function(){return new n(s({},this.value))},n.fromNullable=function(t){return new n(t)},n.prototype.shallowMerge=function(t,e,n){var r=this;void 0===e&&(e=!0),void 0===n&&(n=!1);var o=function(o){if(void 0===o||null==o)return"continue";!e&&o in a.value||(n?Array.isArray(t.getIf(o).value)?(new(u.Es2019Array.bind.apply(u.Es2019Array,l([void 0],i(t.getIf(o).value),!1)))).forEach((function(t){return r.append(o).value=t})):a.append(o).value=t.getIf(o).value:a.assign(o).value=t.getIf(o).value)},a=this;for(var s in t.value)o(s)},n.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length<1;if(!n){this.assertAccessPath.apply(this,l([],i(t),!1));var r=t[t.length-1],o=this.getIf.apply(this,l([],i(t),!1)).isPresent();this.buildPath.apply(this,l([],i(t),!1));var a=this.arrayIndex(r);if(a>-1)throw Error("Append only possible on non array properties, use assign on indexed data");var u=this.getIf.apply(this,l([],i(t),!1)).value;return Array.isArray(u)||(u=this.assign.apply(this,l([],i(t),!1)).value=[u]),o&&u.push({}),a=u.length-1,new h(1==t.length?this.value:this.getIf.apply(this,t.slice(0,t.length-1)).value,r,a)}},n.prototype.appendIf=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t?this.append.apply(this,l([],i(e),!1)):{value:null}},n.prototype.assign=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!(t.length<1)){this.assertAccessPath.apply(this,l([],i(t),!1)),this.buildPath.apply(this,l([],i(t),!1));var n=this.keyVal(t[t.length-1]),r=this.arrayIndex(t[t.length-1]);return new h(1==t.length?this.value:this.getIf.apply(this,t.slice(0,t.length-1)).value,n,r)}},n.prototype.assignIf=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t?this.assign.apply(this,l([],i(e),!1)):{value:null}},n.prototype.getIf=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.assertAccessPath.apply(this,l([],i(e),!1)),this.getClass().fromNullable(t.prototype.getIf.apply(this,e).value)},n.prototype.get=function(e){return this.getClass().fromNullable(t.prototype.get.call(this,e).value)},n.prototype.delete=function(t){return t in this.value&&delete this.value[t],this},n.prototype.toJson=function(){return JSON.stringify(this.value)},n.prototype.getClass=function(){return n},n.prototype.setVal=function(t){this._value=t},n.prototype.assertAccessPath=function(){for(var t,n,r,o,a,s,c,f,h,d=this,v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];if(v=this.preprocessKeys.apply(this,l([],i(v),!1)),this.configDef)for(var b="Access Path to config invalid",g=p.fromNullable(Object.keys(this.configDef).map((function(t){var e={};return e[t]=d.configDef[t],e}))),m=function(d){var y=A.keyVal(v[d]),m=A.arrayIndex(v[d]);if(!(g=A.isArray(m)?""!=y?Array.isArray(g.value)?p.fromNullable(null===(n=null===(t=(new(u.Es2019Array.bind.apply(u.Es2019Array,l([void 0],i(g.value),!1)))).find((function(t){var e;return!(null===(e=null==t?void 0:t[y])||void 0===e||!e)})))||void 0===t?void 0:t[y])||void 0===n?void 0:n[m]):p.fromNullable(null!==(a=null===(o=null===(r=g.value)||void 0===r?void 0:r[y])||void 0===o?void 0:o[m])&&void 0!==a?a:null):Array.isArray(g.value)?p.fromNullable(null===(s=g.value)||void 0===s?void 0:s[m]):p.absent:Array.isArray(g.value)?p.fromNullable(null===(c=(new(u.Es2019Array.bind.apply(u.Es2019Array,l([void 0],i(g.value),!1)))).find((function(t){var e;return!(null===(e=null==t?void 0:t[y])||void 0===e||!e)})))||void 0===c?void 0:c[y]):p.fromNullable(null!==(h=null===(f=g.value)||void 0===f?void 0:f[y])&&void 0!==h?h:null)).isPresent())throw Error(b);if(g.value==e.CONFIG_ANY)return{value:void 0}},A=this,E=0;E<v.length;E++){var w=m(E);if("object"==typeof w)return w.value}},n.prototype.buildPath=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t=this.preprocessKeys.apply(this,l([],i(t),!1));for(var n=this,r=this.getClass().fromNullable(null),o=-1,a=function(t,e){for(var n=t.length,r=n+e,o=n;o<r;o++)t.push({})},u=0;u<t.length;u++){var s=this.keyVal(t[u]),c=this.arrayIndex(t[u]);if(this.isArrayPos(s,c))n.setVal(n.value instanceof Array?n.value:[]),a(n.value,c+1),o>=0&&(r.value[o]=n.value),r=n,o=c,n=this.getClass().fromNullable(n.value[c]);else{var p=n.getIf(s);if(this.isNoArray(c))p.isAbsent()?p=this.getClass().fromNullable(n.value[s]={}):n=p;else{var f=p.value instanceof Array?p.value:[];a(f,c+1),n.value[s]=f,p=this.getClass().fromNullable(f[c])}r=n,o=c,n=p}}return this},n.prototype.isNoArray=function(t){return-1==t},n.prototype.isArray=function(t){return!this.isNoArray(t)},n.prototype.isArrayPos=function(t,e){return""===t&&e>=0},n}(p);e.Config=d},255:function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l},o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayCollector=e.QueryFormStringCollector=e.QueryFormDataCollector=e.FormDataCollector=e.ConfigCollector=e.AssocArrayCollector=e.Run=e.ArrayAssocArrayCollector=e.InverseArrayCollector=e.ShimArrayCollector=e.MappedStreamDataSource=e.FilteredStreamDatasource=e.ArrayStreamDataSource=e.SequenceDataSource=e.MultiStreamDatasource=e.calculateSkips=e.ITERATION_STATUS=void 0;var i,l=n(152),a=n(484);function u(t){for(var e=1;t.lookAhead(e)!=i.EO_STRM;)e++;return--e}!function(t){t.EO_STRM="__EO_STRM__",t.BEF_STRM="___BEF_STRM__"}(i=e.ITERATION_STATUS||(e.ITERATION_STATUS={})),e.calculateSkips=u;var s=function(){function t(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.first=t,this.selectedPos=0,this.strms=(e=[t]).concat.apply(e,o([],r(n),!1)),this.activeStrm=this.strms[this.selectedPos]}return t.prototype.current=function(){return this.activeStrm.current()},t.prototype.hasNext=function(){return!!this.activeStrm.hasNext()||!(this.selectedPos>=this.strms.length)&&-1!=this.findNextStrm()},t.prototype.findNextStrm=function(){for(var t=!1,e=this.selectedPos;!t&&e<this.strms.length;)(t=this.strms[e].hasNext())||e++;return t?e:-1},t.prototype.lookAhead=function(t){void 0===t&&(t=1);var e=this.strms.slice(this.selectedPos);if(!e.length)return i.EO_STRM;for(var n=o([],r(e),!1);n.length;){var l=n.shift(),a=l.lookAhead(t);if(a!=i.EO_STRM)return a;t-=u(l)}return i.EO_STRM},t.prototype.next=function(){return this.activeStrm.hasNext()?this.activeStrm.next():(this.selectedPos=this.findNextStrm(),-1==this.selectedPos?i.EO_STRM:(this.activeStrm=this.strms[this.selectedPos],this.activeStrm.next()))},t.prototype.reset=function(){this.activeStrm=this.strms[0],this.selectedPos=0;for(var t=0;t<this.strms.length;t++)this.strms[t].reset()},t}();e.MultiStreamDatasource=s;var c=function(){function t(t,e){this.total=e,this.start=t,this.value=t-1}return t.prototype.hasNext=function(){return this.value<this.total-1},t.prototype.next=function(){return this.value++,this.value<=this.total-1?this.value:i.EO_STRM},t.prototype.lookAhead=function(t){return void 0===t&&(t=1),this.value+t>this.total-1?i.EO_STRM:this.value+t},t.prototype.reset=function(){this.value=this.start-1},t.prototype.current=function(){return this.start-1?i.BEF_STRM:this.value},t}();e.SequenceDataSource=c;var p=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dataPos=-1,this.value=t}return t.prototype.lookAhead=function(t){return void 0===t&&(t=1),this.dataPos+t>this.value.length-1?i.EO_STRM:this.value[this.dataPos+t]},t.prototype.hasNext=function(){return this.value.length-1>this.dataPos},t.prototype.next=function(){var t;return this.dataPos++,null!==(t=null==this?void 0:this.value[this.dataPos])&&void 0!==t?t:i.EO_STRM},t.prototype.reset=function(){this.dataPos=-1},t.prototype.current=function(){return this.value[Math.max(0,this.dataPos)]},t}();e.ArrayStreamDataSource=p;var f=function(){function t(t,e){this._current=i.BEF_STRM,this._filterIdx={},this._unfilteredPos=0,this.filterFunc=t,this.inputDataSource=e}return t.prototype.hasNext=function(){for(var t,e=1,n=!1;!n&&(t=this.inputDataSource.lookAhead(e))!=i.EO_STRM;)this.filterFunc(t)?(this._filterIdx[this._unfilteredPos+e]=!0,n=!0):e++;return n},t.prototype.next=function(){for(var t,e,n=i.EO_STRM;this.inputDataSource.hasNext();){this._unfilteredPos++;var r=this.inputDataSource.next();if(r!=i.EO_STRM&&(null!==(e=null===(t=this._filterIdx)||void 0===t?void 0:t[this._unfilteredPos])&&void 0!==e&&e||this.filterFunc(r))){this._filterIdx[this._unfilteredPos]=!0,n=r;break}}return this._current=n,n},t.prototype.lookAhead=function(t){var e,n;void 0===t&&(t=1);for(var r=1;t>0&&(n=this.inputDataSource.lookAhead(r))!=i.EO_STRM;r++){((null===(e=this._filterIdx)||void 0===e?void 0:e[this._unfilteredPos+r])||this.filterFunc(n))&&(t--,this._filterIdx[this._unfilteredPos+r]=!0)}return n},t.prototype.current=function(){return this._current},t.prototype.reset=function(){this._current=i.BEF_STRM,this._filterIdx={},this._unfilteredPos=0,this.inputDataSource.reset()},t}();e.FilteredStreamDatasource=f;var h=function(){function t(t,e){this.mapFunc=t,this.inputDataSource=e}return t.prototype.hasNext=function(){return this.inputDataSource.hasNext()},t.prototype.next=function(){return this.mapFunc(this.inputDataSource.next())},t.prototype.reset=function(){this.inputDataSource.reset()},t.prototype.current=function(){return this.mapFunc(this.inputDataSource.current())},t.prototype.lookAhead=function(t){void 0===t&&(t=1);var e=this.inputDataSource.lookAhead(t);return e==i.EO_STRM?e:this.mapFunc(e)},t}();e.MappedStreamDataSource=h;var d=function(){function t(){this.data=new(a.Es2019Array.bind.apply(a.Es2019Array,o([void 0],[],!1)))}return t.prototype.collect=function(t){this.data.push(t)},Object.defineProperty(t.prototype,"finalValue",{get:function(){return this.data},enumerable:!1,configurable:!0}),t}();e.ShimArrayCollector=d;var v=function(){function t(){this.data=[]}return t.prototype.collect=function(t){this.data.unshift(t)},Object.defineProperty(t.prototype,"finalValue",{get:function(){return this.data},enumerable:!1,configurable:!0}),t}();e.InverseArrayCollector=v;var y=function(){function t(){this.finalValue={}}return t.prototype.collect=function(t){var e,n,r,o,i=null!==(e=null==t?void 0:t[0])&&void 0!==e?e:t;this.finalValue[i]=null!==(r=null===(n=this.finalValue)||void 0===n?void 0:n[i])&&void 0!==r?r:[],this.finalValue[i].push(null===(o=null==t?void 0:t[1])||void 0===o||o)},t}();e.ArrayAssocArrayCollector=y;var b=function(){function t(){}return t.prototype.collect=function(t){},Object.defineProperty(t.prototype,"finalValue",{get:function(){return null},enumerable:!1,configurable:!0}),t}();e.Run=b;var g=function(){function t(){this.finalValue={}}return t.prototype.collect=function(t){var e,n;this.finalValue[null!==(e=t[0])&&void 0!==e?e:t]=null===(n=t[1])||void 0===n||n},t}();e.AssocArrayCollector=g;var m=function(){function t(){this.finalValue=new l.Config({})}return t.prototype.collect=function(t){this.finalValue.append(t.key).value=t.value},t}();e.ConfigCollector=m;var A=function(){function t(){this.finalValue=new FormData}return t.prototype.collect=function(t){this.finalValue.append(t.key,t.value)},t}();e.FormDataCollector=A;var E=function(){function t(){this.finalValue=new FormData}return t.prototype.collect=function(t){var e=t.encodeFormElement();e.isPresent()&&this.finalValue.append(t.name.value,e.get(t.name).value)},t}();e.QueryFormDataCollector=E;var w=function(){function t(){this.formData=[]}return t.prototype.collect=function(t){var e=t.encodeFormElement();e.isPresent()&&this.formData.push([t.name.value,e.get(t.name).value])},Object.defineProperty(t.prototype,"finalValue",{get:function(){return(new(a.Es2019Array.bind.apply(a.Es2019Array,o([void 0],r(this.formData),!1)))).map((function(t){return t.join("=")})).reduce((function(t,e){return[t,e].join("&")}))},enumerable:!1,configurable:!0}),t}();e.QueryFormStringCollector=w;var _=function(){function t(){this.data=[]}return t.prototype.collect=function(t){this.data.push(t)},Object.defineProperty(t.prototype,"finalValue",{get:function(){return this.data},enumerable:!1,configurable:!0}),t}();e.ArrayCollector=_},356:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TagBuilder=void 0;var i=n(585),l=n(456);void 0!==l._global$&&function(){if(void 0!==(0,l._global$)().Reflect&&void 0!==(0,l._global$)().customElements&&!(0,l._global$)().customElements.polyfillWrapFlushCallback){var t=HTMLElement;(0,l._global$)().HTMLElement={HTMLElement:function(){return Reflect.construct(t,[],this.constructor)}}.HTMLElement,HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}();var a=function(){function t(t){this.extendsType=HTMLElement,this.observedAttrs=[],this.tagName=t}return t.withTagName=function(e){return new t(e)},t.prototype.withObservedAttributes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.observedAttrs=t},t.prototype.withConnectedCallback=function(t){return this.connectedCallback=t,this},t.prototype.withDisconnectedCallback=function(t){return this.disconnectedCallback=t,this},t.prototype.withAdoptedCallback=function(t){return this.adoptedCallback=t,this},t.prototype.withAttributeChangedCallback=function(t){return this.attributeChangedCallback=t,this},t.prototype.withExtendsType=function(t){return this.extendsType=t,this},t.prototype.withOptions=function(t){return this.theOptions=t,this},t.prototype.withClass=function(t){if(this.markup)throw Error("Markup already defined, markup must be set in the class");return this.clazz=t,this},t.prototype.withMarkup=function(t){if(this.clazz)throw Error("Class already defined, markup must be set in the class");return this.markup=t,this},t.prototype.register=function(){var t=this;if(!this.clazz&&!this.markup)throw Error("Class or markup must be defined");if(this.clazz){var e=function(e){var n=t[e],r=t.clazz.prototype[e],o=n||r;o&&(t.clazz.prototype[e]=function(){n?o.apply(i.DomQuery.byId(this)):r.apply(this)})};e("connectedCallback"),e("disconnectedCallback"),e("adoptedCallback"),e("attributeChangedCallback"),this.observedAttrs.length&&Object.defineProperty(this.clazz.prototype,"observedAttributes",{get:function(){return this.observedAttrs}}),(0,l._global$)().customElements.define(this.tagName,this.clazz,this.theOptions||null)}else{var n=this,r=function(t,e){n[t]&&n[t].apply(i.DomQuery.byId(e))};(0,l._global$)().customElements.define(this.tagName,function(t){function e(){var e=t.call(this)||this;return e.innerHTML=n.markup,e}return o(e,t),Object.defineProperty(e,"observedAttributes",{get:function(){return n.observedAttrs},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){r("connectedCallback",this)},e.prototype.disconnectedCallback=function(){r("disconnectedCallback",this)},e.prototype.adoptedCallback=function(){r("adoptedCallback",this)},e.prototype.attributeChangedCallback=function(){r("attributeChangedCallback",this)},e}(this.extendsType),this.theOptions||null)}},t}();e.TagBuilder=a}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}return n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n(356)}()}));
//# sourceMappingURL=TagBuilder.js.map